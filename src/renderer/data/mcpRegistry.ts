import { McpRegistryEntry } from '../types/mcp';

/**
 * Built-in MCP server registry.
 * These are popular, mainstream MCP servers that users can install with one click.
 * Each entry is a template — the user fills in required config (API keys, paths)
 * before it is saved to the database.
 */
export const mcpRegistry: McpRegistryEntry[] = [
  // ── Filesystem ──────────────────────────────────────────
  {
    id: 'filesystem',
    name: 'Filesystem',
    descriptionKey: 'mcpDesc_filesystem',
    category: 'filesystem',
    categoryKey: 'mcpCategoryFilesystem',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/filesystem',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-filesystem'],
    argPlaceholders: ['/path/to/allowed-directory'],
  },

  // ── Search ──────────────────────────────────────────────
  {
    id: 'brave-search',
    name: 'Brave Search',
    descriptionKey: 'mcpDesc_brave_search',
    category: 'search',
    categoryKey: 'mcpCategorySearch',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/brave-search',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-brave-search'],
    requiredEnvKeys: ['BRAVE_API_KEY'],
  },
  {
    id: 'tavily',
    name: 'Tavily',
    descriptionKey: 'mcpDesc_tavily',
    category: 'search',
    categoryKey: 'mcpCategorySearch',
    githubUrl: 'https://github.com/tavily-ai/tavily-mcp',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', 'tavily-mcp@latest'],
    requiredEnvKeys: ['TAVILY_API_KEY'],
  },

  // ── Browser ─────────────────────────────────────────────
  {
    id: 'puppeteer',
    name: 'Puppeteer',
    descriptionKey: 'mcpDesc_puppeteer',
    category: 'browser',
    categoryKey: 'mcpCategoryBrowser',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/puppeteer',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-puppeteer'],
  },
  {
    id: 'playwright',
    name: 'Playwright',
    descriptionKey: 'mcpDesc_playwright',
    category: 'browser',
    categoryKey: 'mcpCategoryBrowser',
    githubUrl: 'https://github.com/executeautomation/mcp-playwright',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@executeautomation/playwright-mcp-server'],
  },

  // ── Database ────────────────────────────────────────────
  {
    id: 'postgres',
    name: 'PostgreSQL',
    descriptionKey: 'mcpDesc_postgres',
    category: 'database',
    categoryKey: 'mcpCategoryDatabase',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/postgres',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-postgres'],
    argPlaceholders: ['postgresql://user:pass@localhost:5432/dbname'],
  },
  {
    id: 'sqlite',
    name: 'SQLite',
    descriptionKey: 'mcpDesc_sqlite',
    category: 'database',
    categoryKey: 'mcpCategoryDatabase',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/sqlite',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-sqlite', '--db-path'],
    argPlaceholders: ['/path/to/database.db'],
  },
  {
    id: 'redis',
    name: 'Redis',
    descriptionKey: 'mcpDesc_redis',
    category: 'database',
    categoryKey: 'mcpCategoryDatabase',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/redis',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-redis'],
    argPlaceholders: ['redis://localhost:6379'],
  },

  // ── Developer Tools ─────────────────────────────────────
  {
    id: 'git',
    name: 'Git',
    descriptionKey: 'mcpDesc_git',
    category: 'developer',
    categoryKey: 'mcpCategoryDeveloper',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/git',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-git', '--repository'],
    argPlaceholders: ['/path/to/git/repo'],
  },
  {
    id: 'github',
    name: 'GitHub',
    descriptionKey: 'mcpDesc_github',
    category: 'developer',
    categoryKey: 'mcpCategoryDeveloper',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/github',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-github'],
    requiredEnvKeys: ['GITHUB_PERSONAL_ACCESS_TOKEN'],
  },
  {
    id: 'gitlab',
    name: 'GitLab',
    descriptionKey: 'mcpDesc_gitlab',
    category: 'developer',
    categoryKey: 'mcpCategoryDeveloper',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/gitlab',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-gitlab'],
    requiredEnvKeys: ['GITLAB_PERSONAL_ACCESS_TOKEN'],
    optionalEnvKeys: ['GITLAB_API_URL'],
  },
  {
    id: 'docker',
    name: 'Docker',
    descriptionKey: 'mcpDesc_docker',
    category: 'developer',
    categoryKey: 'mcpCategoryDeveloper',
    githubUrl: 'https://github.com/docker/docker-mcp',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@docker/mcp-server-docker'],
  },

  // ── Productivity ────────────────────────────────────────
  {
    id: 'slack',
    name: 'Slack',
    descriptionKey: 'mcpDesc_slack',
    category: 'productivity',
    categoryKey: 'mcpCategoryProductivity',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/slack',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-slack'],
    requiredEnvKeys: ['SLACK_BOT_TOKEN', 'SLACK_TEAM_ID'],
  },
  {
    id: 'notion',
    name: 'Notion',
    descriptionKey: 'mcpDesc_notion',
    category: 'productivity',
    categoryKey: 'mcpCategoryProductivity',
    githubUrl: 'https://github.com/makenotion/notion-mcp-server',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@notionhq/notion-mcp-server'],
    requiredEnvKeys: ['OPENAPI_MCP_HEADERS'],
  },
  {
    id: 'google-drive',
    name: 'Google Drive',
    descriptionKey: 'mcpDesc_google_drive',
    category: 'productivity',
    categoryKey: 'mcpCategoryProductivity',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/gdrive',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-gdrive'],
    optionalEnvKeys: ['GDRIVE_CREDENTIALS_PATH'],
  },

  // ── Data & API ──────────────────────────────────────────
  {
    id: 'fetch',
    name: 'Fetch',
    descriptionKey: 'mcpDesc_fetch',
    category: 'data-api',
    categoryKey: 'mcpCategoryDataApi',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/fetch',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-fetch'],
  },
  {
    id: 'google-maps',
    name: 'Google Maps',
    descriptionKey: 'mcpDesc_google_maps',
    category: 'data-api',
    categoryKey: 'mcpCategoryDataApi',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/google-maps',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-google-maps'],
    requiredEnvKeys: ['GOOGLE_MAPS_API_KEY'],
  },
  {
    id: 'sentry',
    name: 'Sentry',
    descriptionKey: 'mcpDesc_sentry',
    category: 'data-api',
    categoryKey: 'mcpCategoryDataApi',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/sentry',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-sentry'],
    requiredEnvKeys: ['SENTRY_AUTH_TOKEN'],
  },

  // ── Memory ──────────────────────────────────────────────
  {
    id: 'memory',
    name: 'Memory',
    descriptionKey: 'mcpDesc_memory',
    category: 'memory',
    categoryKey: 'mcpCategoryMemory',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/memory',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-memory'],
  },

  // ── Reasoning ───────────────────────────────────────────
  {
    id: 'sequential-thinking',
    name: 'Sequential Thinking',
    descriptionKey: 'mcpDesc_sequential_thinking',
    category: 'reasoning',
    categoryKey: 'mcpCategoryReasoning',
    githubUrl: 'https://github.com/modelcontextprotocol/servers/tree/main/src/sequentialthinking',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@modelcontextprotocol/server-sequential-thinking'],
  },

  // ── Cloud ───────────────────────────────────────────────
  {
    id: 'cloudflare',
    name: 'Cloudflare',
    descriptionKey: 'mcpDesc_cloudflare',
    category: 'cloud',
    categoryKey: 'mcpCategoryCloud',
    githubUrl: 'https://github.com/cloudflare/mcp-server-cloudflare',
    transportType: 'stdio',
    command: 'npx',
    defaultArgs: ['-y', '@cloudflare/mcp-server-cloudflare'],
  },
];

/**
 * All available categories with their i18n keys.
 */
export const mcpCategories = [
  { id: 'all', key: 'mcpCategoryAll' },
  { id: 'search', key: 'mcpCategorySearch' },
  { id: 'developer', key: 'mcpCategoryDeveloper' },
  { id: 'database', key: 'mcpCategoryDatabase' },
  { id: 'browser', key: 'mcpCategoryBrowser' },
  { id: 'productivity', key: 'mcpCategoryProductivity' },
  { id: 'data-api', key: 'mcpCategoryDataApi' },
  { id: 'filesystem', key: 'mcpCategoryFilesystem' },
  { id: 'memory', key: 'mcpCategoryMemory' },
  { id: 'reasoning', key: 'mcpCategoryReasoning' },
  { id: 'cloud', key: 'mcpCategoryCloud' },
] as const;
